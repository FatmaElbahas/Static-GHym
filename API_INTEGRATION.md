# ุฏููู ุฑุจุท API ูุน ูููุจูููุชุงุช Home

## ๐ก ุงูู API ุงููุณุชุฎุฏู

### 1. About Endpoint
```
GET https://enqlygo.com/api/about
```

### 2. Reviews Endpoint
```
GET https://enqlygo.com/api/salons/reviews
```

### 3. Most Booked Services Endpoint
```
GET https://enqlygo.com/api/salons/most_booking_services
```

### 4. Salons/Sections Endpoint
```
GET https://enqlygo.com/api/salons
```

### 5. Products/Offers Endpoint
```
GET https://enqlygo.com/api/salons/2/services
```
ูุฌูุจ ุฌููุน ุฎุฏูุงุช ุตุงููู ุฑูู 2 (ุนูุงุฏุฉ ุงูุฃุณูุงู ุงููุชููุฒุฉ)

## ๐ ูุณุงุฑุงุช ุงูุตูุฑ ุงูุซุงุจุชุฉ

**ุงููุณุงุฑ ุงูุฃุณุงุณู:**
```
https://enqlygo.com/storage/app/public
```

**ุงููุฌูุฏุงุช ุงููุฑุนูุฉ:**
- `/services/` - ุตูุฑ ุงูุฎุฏูุงุช
- `/uploads/` - ุตูุฑ ุนุงูุฉ
- `/staff/` - ุตูุฑ ุงูุฃุทุจุงุก/ุงูููุธููู
- `/profile_images/` - ุตูุฑ ุงูุจุฑููุงูู
- `/admin/` - ุตูุฑ ุงูุฃุฏูู

**ููุงุญุธุฉ:** ุงูู API ูุฑุฌุน ุงููุณุงุฑุงุช ูุงููุฉุ ูุง ูุญุชุงุฌ ูุจูุงุกูุง ูุฏููุงู.

## ๐ง ุงูุจููุฉ ุงูุชูููุฉ

### 1. Custom Hook: `useAboutData.js`

ุชู ุฅูุดุงุก custom hook ูุฌูุจ ุจูุงูุงุช ูุณู "ุนู ุงููุณุชุดูู" ูู ุงูู API:

**ุงููููุน:** `src/hooks/useAboutData.js`

**ุงููููุฒุงุช:**
- โ ุฌูุจ ุงูุจูุงูุงุช ุชููุงุฆูุงู ุนูุฏ ุงูุชุญููู
- โ ูุนุงูุฌุฉ ุญุงูุงุช Loading
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก Error Handling
- โ Cache ุงูุจูุงูุงุช ูู ุงูู state
- โ ุฅุฑุฌุงุน `{ data, loading, error }`

**ูุซุงู ุงูุงุณุชุฎุฏุงู:**
```javascript
import useAboutData from '../../hooks/useAboutData';

const MyComponent = () => {
  const { data, loading, error } = useAboutData();
  
  if (loading) return <Spinner />;
  if (error) return <ErrorMessage />;
  
  return <div>{data.main_title_ar}</div>;
};
```

### 2. AboutSection Component

ุชู ุชุญุฏูุซ `AboutSection.jsx` ูุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู ุงูู API:

**ุงููููุน:** `src/Components/Home/AboutSection.jsx`

**ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูู ุงูู API:**
- `about_ar` - ูุต ุงููุตู (ุฏููุงูููู ูู API)
- ุงูุนููุงู ุซุงุจุช: "ูุฌูุน ุบูู ุงูุทุจู"

**ุงูุญุงูุงุช ุงููุฏุนููุฉ:**
1. **Loading State** - ุนุฑุถ spinner ุฃุซูุงุก ุชุญููู ุงูุจูุงูุงุช
2. **Error State** - fallback ูููุญุชูู ุงูุงูุชุฑุงุถู
3. **Success State** - ุนุฑุถ ุงูุจูุงูุงุช ูู ุงูู API

---

### 3. Custom Hook: `useReviewsData.js`

ุชู ุฅูุดุงุก custom hook ูุฌูุจ ุขุฑุงุก ุงูุนููุงุก ูู ุงูู API:

**ุงููููุน:** `src/hooks/useReviewsData.js`

**ุงููููุฒุงุช:**
- โ ุฌูุจ ูุงุฆูุฉ ุงูุชููููุงุช ุชููุงุฆูุงู
- โ ูุนุงูุฌุฉ ุญุงูุงุช Loading
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก Error Handling
- โ ุฅุฑุฌุงุน `{ data, loading, error }`

**ูุซุงู ุงูุงุณุชุฎุฏุงู:**
```javascript
import useReviewsData from '../../hooks/useReviewsData';

const MyComponent = () => {
  const { data, loading, error } = useReviewsData();
  
  if (loading) return <Spinner />;
  
  return data.map(review => <ReviewCard key={review.id} {...review} />);
};
```

### 4. Testimonials Component

ุชู ุชุญุฏูุซ `Testimonials.jsx` ูุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู ุงูู API:

**ุงููููุน:** `src/Components/Testimonials/Testimonials.jsx`

**ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูู ุงูู API:**
- `id` - ูุนุฑู ุงูุชูููู
- `rating` - ุงูุชูููู ุจุงููุฌูู (1-5)
- `comment` - ูุต ุงูุชูููู
- `user.fullname` - ุงุณู ุงูุนููู
- `user.profile_image` - ุตูุฑุฉ ุงูุนููู
- `salon.salon_name` - ุงุณู ุงูุนูุงุฏุฉ/ุงูุตุงููู

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ุงูุชูููู ุจุงููุฌูู (Star Rating)
- โ ุงุณู ุงูุนููู (ุจุฏูู ุตูุฑุฉ)
- โ ุงุณู ุงูุนูุงุฏุฉ/ุงููุณู
- โ Fallback ููุจูุงูุงุช ุงูุซุงุจุชุฉ ุนูุฏ ูุดู API
- โ Loading state ูุน spinner

---

### 5. Custom Hook: `useServicesData.js`

ุชู ุฅูุดุงุก custom hook ูุฌูุจ ุฃุจุฑุฒ ุงูุฎุฏูุงุช (ุงูุฃูุซุฑ ุญุฌุฒุงู) ูู ุงูู API:

**ุงููููุน:** `src/hooks/useServicesData.js`

**ุงููููุฒุงุช:**
- โ ุฌูุจ ูุงุฆูุฉ ุฃุจุฑุฒ ุงูุฎุฏูุงุช ุชููุงุฆูุงู
- โ ูุนุงูุฌุฉ ุญุงูุงุช Loading
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก Error Handling
- โ ุฅุฑุฌุงุน `{ data, loading, error }`

### 6. Services Component

ุชู ุชุญุฏูุซ `Services.jsx` ูุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู ุงูู API:

**ุงููููุน:** `src/Components/Services/Services.jsx`

**ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูู ุงูู API:**
- `id` - ูุนุฑู ุงูุฎุฏูุฉ
- `title_ar` - ุนููุงู ุงูุฎุฏูุฉ ุจุงูุนุฑุจู
- `price` - ุงูุณุนุฑ ุงูุฃุณุงุณู
- `discount` - ูุณุจุฉ ุงูุฎุตู (ุฅู ููุฌุฏุช)
- `images` - ูุตูููุฉ ุงูุตูุฑ (ูุชู ุนุฑุถ ุงูุตูุฑุฉ ุงูุฃููู)
- `bookings_count` - ุนุฏุฏ ุงูุญุฌูุฒุงุช
- `service_time` - ูุฏุฉ ุงูุฎุฏูุฉ ุจุงูุฏูุงุฆู

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ุงูุตูุฑุฉ ุงูุฃููู ูู ูุตูููุฉ ุงูุตูุฑ
- โ ุญุณุงุจ ุงูุณุนุฑ ุงูููุงุฆู ุจุนุฏ ุงูุฎุตู
- โ ุนุฑุถ badge ุงูุฎุตู ุฅุฐุง ูุงู ููุฌูุฏุงู
- โ ุนุฑุถ ุงูุณุนุฑ ุงููุฏูู ูุดุทูุจ ูุน ุงูุณุนุฑ ุงูุฌุฏูุฏ
- โ ุฑุณุงูุฉ "ุงุชุตู ููุณุนุฑ" ุนูุฏ ุนุฏู ูุฌูุฏ ุณุนุฑ
- โ Fallback ููุจูุงูุงุช ุงูุซุงุจุชุฉ ุนูุฏ ูุดู API
- โ Loading state ูุน spinner

---

### 7. Custom Hook: `useSalonsData.js`

ุชู ุฅูุดุงุก custom hook ูุฌูุจ ุงูุฃูุณุงู/ุงูุตุงูููุงุช ูู ุงูู API:

**ุงููููุน:** `src/hooks/useSalonsData.js`

**ุงููููุฒุงุช:**
- โ ุฌูุจ ูุงุฆูุฉ ุงูุตุงูููุงุช/ุงูุฃูุณุงู ุชููุงุฆูุงู
- โ ูุนุงูุฌุฉ ุญุงูุงุช Loading
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก Error Handling
- โ ุฅุฑุฌุงุน `{ data, loading, error }`

### 8. SectionsCarousel Component

ุชู ุชุญุฏูุซ `SectionsCarousel.jsx` ูุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ูู ุงูู API:

**ุงููููุน:** `src/Components/Home/SectionsCarousel.jsx`

**ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูู ุงูู API:**
- `id` - ูุนุฑู ุงููุณู
- `salon_name` - ุงุณู ุงููุณู/ุงูุตุงููู
- `owner_photo` - ุตูุฑุฉ ุงููุณู
- `images` - ูุตูููุฉ ุงูุตูุฑ (ูุชู ุนุฑุถ ุงูุฃููู ุฅู ููุฌุฏุช)
- `status` - ุญุงูุฉ ุงููุณู (ูุนุฑุถ ููุท ุงูุฃูุณุงู ุงููุดุทุฉ)

**ุงููููุฒุงุช:**
- โ ุนุฑุถ ุงูุฃูุณุงู ุงููุดุทุฉ ููุท (status === 1)
- โ ุงุณุชุฎุฏุงู ุตูุฑุฉ ูู images ุฃู owner_photo
- โ ุชุฌุงูู ุงูุฃูุณุงู ุจุฏูู ุตูุฑ
- โ Loading state ูุน spinner
- โ ุฅุฎูุงุก ุงููุณู ุฅุฐุง ูู ุชูุฌุฏ ุจูุงูุงุช
- โ ุชุฃุซูุฑุงุช hover ุฌูููุฉ

## ๐ ุดูู ุงูุจูุงูุงุช (Response Structure)

### About API Response
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "main_title_ar": "ุนู ุงููุณุชุดูู",
    "title_ar": "ุฑุคูุชูุง ูุฑุณุงูุชูุง",
    "about_ar": "ูุต ุงููุตู ููุง...",
    "image": "https://example.com/image.jpg",
    "created_at": "2025-09-24T11:01:42.000000Z",
    "updated_at": "2025-09-29T08:09:32.000000Z"
  },
  "message": "ุชู ุงูุฌูุจ ุจูุฌุงุญ"
}
```

### Reviews API Response
```json
{
  "status": "success",
  "data": {
    "current_page": 1,
    "data": [
      {
        "id": 6,
        "user_id": 1,
        "salon_id": 2,
        "booking_id": null,
        "rating": 5,
        "comment": "ุงูุตุญูู ุจุงูุนูุงุฏุฉ ูุงูููุธูุงุช ุฎูููุงุช ุฑุงุฆุนุงุช ููุชุงุฒุงุช",
        "created_at": "2025-10-02T18:00:24.000000Z",
        "updated_at": "2025-10-02T18:00:24.000000Z",
        "user": {
          "id": 1,
          "fullname": "Ahmed Ibrahim",
          "profile_image": "https://enqlygo.com/storage/..."
        },
        "salon": {
          "id": 2,
          "salon_name": "ุนูุงุฏุฉ ุงูุฃุณูุงู ุงููุชููุฒุฉ"
        }
      }
    ],
    "per_page": 20,
    "total": 6
  },
  "message": "ุชู ุฌูุจ ุงูุชููููุงุช ุจูุฌุงุญ"
}
```

### Services API Response
```json
{
  "status": "success",
  "data": [
    {
      "id": 2,
      "title_ar": "ุชูุธูู ุงูุฃุณูุงู",
      "title_en": "Dental Cleaning",
      "price": 150,
      "discount": 25,
      "service_time": 30,
      "bookings_count": 56,
      "about_ar": "ุชูุธูู ุงุญุชุฑุงูู ููุฃุณูุงู ูุฅุฒุงูุฉ ุงูุฌูุฑ",
      "images": [
        {
          "id": 4,
          "service_id": 2,
          "image": "https://enqlygo.com/storage/..."
        }
      ]
    }
  ],
  "message": "ุชู ุฌูุจ ุฎุฏูุงุช ุฃูุซุฑ ุงูุตุงูููุงุช ุญุฌุฒูุง ุจูุฌุงุญ"
}
```

### Salons API Response
```json
{
  "status": "success",
  "data": [
    {
      "id": 2,
      "status": 1,
      "salon_name": "ุนูุงุฏุฉ ุงูุฃุณูุงู ุงููุชููุฒุฉ",
      "owner_name": "ุฏ. ูุฑูู ุนูู",
      "owner_photo": "https://enqlygo.com/storage/...",
      "salon_about": "ุนูุงุฏุฉ ุฃุณูุงู ูุชุฎุตุตุฉ...",
      "salon_phone": "+966 502624351",
      "reviews_avg_rating": 5,
      "reviews_count": 4,
      "images": [
        {
          "id": 1,
          "image": "https://enqlygo.com/storage/..."
        }
      ]
    }
  ],
  "message": "Salons retrieved successfully"
}
```

## ๐จ ุงููููุฒุงุช ุงูุฅุถุงููุฉ

### Fallback Content
ูู ุญุงูุฉ ูุดู ุงูู APIุ ูุชู ุนุฑุถ ุงููุญุชูู ุงูุงูุชุฑุงุถู:
- ุงูุนููุงู: "ูุฌูุน ุบูู ุงูุทุจู"
- ุงููุตู: ุงููุต ุงูุงูุชุฑุงุถู ุนู ุงููุฌูุน

### Performance
- โ **Lazy Loading** ููุตูุฑุฉ
- โ **Single API Call** ุนูุฏ ุชุญููู ุงููููุจูููุช
- โ **No Re-fetching** - ุงูุจูุงูุงุช ุชูุฌูุจ ูุฑุฉ ูุงุญุฏุฉ ููุท
- โ **Error Recovery** - ุงุณุชูุฑุงุฑ ุงูุนูู ุญุชู ูุน ูุดู ุงูู API

### Responsive Design
- โ ุชุตููู ูุชุฌุงูุจ ููููุจุงูู ูุงูุชุงุจูุช
- โ ุฃุญุฌุงู ุฎุทูุท ุฏููุงููููุฉ
- โ ุนุฑุถ ูุซุงูู ููุตูุฑุฉ ุนูู ุฌููุน ุงูุดุงุดุงุช

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

### ุฅุถุงูุฉ APIs ุฃุฎุฑู:
ูููู ุฅูุดุงุก custom hooks ูุดุงุจูุฉ ูู:
- Services (ุงูุฎุฏูุงุช)
- Sections (ุงูุฃูุณุงู)
- Testimonials (ุขุฑุงุก ุงูุนููุงุก)
- Contact Info (ูุนูููุงุช ุงูุชูุงุตู)

### ูุซุงู ูุฅูุดุงุก hook ุฌุฏูุฏ:
```javascript
// src/hooks/useServicesData.js
import { useState, useEffect } from 'react';

const useServicesData = () => {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const response = await fetch('https://enqlygo.com/api/services');
        const result = await response.json();
        setData(result.data);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, []);

  return { data, loading, error };
};

export default useServicesData;
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **CORS**: ุชุฃูุฏ ูู ุฃู ุงูู API ูุณูุญ ุจุงูุทูุจุงุช ูู domain ูููุนู
2. **Loading State**: ุฏุงุฆูุงู ุงุนุฑุถ loading indicator ูููุณุชุฎุฏู
3. **Error Handling**: ูุง ุชุชุฑู ุงููุณุชุฎุฏู ูู ุตูุญุฉ ูุงุฑุบุฉ ุนูุฏ ุญุฏูุซ ุฎุทุฃ
4. **Caching**: ููุฑ ูู ุงุณุชุฎุฏุงู React Query ุฃู SWR ููู caching ุงููุชูุฏู

## ๐ ุฑูุงุจุท ูููุฏุฉ

- [React Hooks Documentation](https://react.dev/reference/react/hooks)
- [Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)
- [Error Handling Best Practices](https://react.dev/learn/error-boundaries)

